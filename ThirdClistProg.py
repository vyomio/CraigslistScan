# -*- coding: utf-8 -*-
"""
Created on Wed Nov  4 17:35:38 2020

@author: Vyom

program does all of USA doesnt matter u cant choose. Thats the next program 4.0

VERSION 3.0
"""
from craigslist import CraigslistForSale as cl




# =============================================================================
# def alabama():
#     with open('alabama.txt', 'r') as ab:
#         abstring = ab.read()
#         
#         alabamalist = abstring.split('\n')
#         return alabamalist
#     
#     
# def alaska(): #base format kinda didnt want to change everything like in alabama's def
#     with open('alaska.txt', 'r') as readin:
#         string = readin.read()
#         
#         list1 = string.split('\n')
#         return list1
# 
# def arizona():
#     with open('arizona.txt', 'r') as readin:
#         string = readin.read()
#         
#         list1 = string.split('\n')
#         return list1
# 
# def arkansas():
#     with open('arkansas.txt', 'r') as readin:
#         string = readin.read()
#         
#         list1 = string.split('\n')
#         return list1
#        
# 
# def texas():
#     with open('texas.txt', 'r') as tx:
#         txstring = tx.read()
#         
#         texaslist = txstring.split('\n')
#         return texaslist
#     
# =============================================================================
        


def alabama():
    with open('alabama.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def alaska():
    with open('alaska.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def arizona():
    with open('arizona.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def arkansas():
    with open('arkansas.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def california():
    with open('california.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def colorado():
    with open('colorado.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def connecticut():
    with open('connecticut.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def dc():
    with open('dc.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def delaware():
    with open('delaware.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def florida():
    with open('florida.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def georgia():
    with open('georgia.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def hawaii():
    with open('hawaii.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def idaho():
    with open('idaho.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def illinois():
    with open('illinois.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def indiana():
    with open('indiana.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def iowa():
    with open('iowa.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def kansas():
    with open('kansas.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def kentucky():
    with open('kentucky.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def louisiana():
    with open('louisiana.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def maine():
    with open('maine.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def maryland():
    with open('maryland.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def massachusetts():
    with open('massachusetts.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def michigan():
    with open('michigan.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def minnesota():
    with open('minnesota.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def mississippi():
    with open('mississippi.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def missouri():
    with open('missouri.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def montana():
    with open('montana.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def nebraska():
    with open('nebraska.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def nevada():
    with open('nevada.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def new_hampshire():
    with open('new hampshire.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def new_jersey():
    with open('new jersey.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def new_mexico():
    with open('new mexico.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def new_york():
    with open('new york.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def north_carolina():
    with open('north carolina.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def north_dakota():
    with open('north dakota.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def ohio():
    with open('ohio.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def oklahoma():
    with open('oklahoma.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def oregon():
    with open('oregon.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def pennsylvania():
    with open('pennsylvania.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def rhode_island():
    with open('rhode island.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def south_carolina():
    with open('south carolina.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def south_dakota():
    with open('south dakota.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def tennessee():
    with open('tennessee.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def texas():
    with open('texas.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def utah():
    with open('utah.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def vermont():
    with open('vermont.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def virginia():
    with open('virginia.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def washington():
    with open('washington.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def west_virginia():
    with open('west virginia.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def wisconsin():
    with open('wisconsin.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def wyoming():
    with open('wyoming.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1
def territories():
    with open('territories.txt', 'r') as readin:
        string = readin.read()
        
        list1 = string.split('\n')
        return list1



cites = []

cites += alabama() + alaska() + arizona() + arkansas() + california() + colorado() + connecticut() + dc() + delaware() + florida() + georgia() + hawaii() + idaho() + illinois() + indiana() + iowa() + kansas() + kentucky() + louisiana() + maine() + maryland() + massachusetts() + michigan() + minnesota() + mississippi() + missouri() + montana() + nebraska() + nevada() + new_hampshire() + new_jersey() + new_mexico() + new_york() + north_carolina() + north_dakota() + ohio() + oklahoma() + oregon() + pennsylvania() + rhode_island() + south_carolina() + south_dakota() + tennessee() + texas() + utah() + vermont() + virginia() + washington() + west_virginia() + wisconsin() + wyoming() + territories()



for cite in cites:
    
    a = cl(site=cite ,category = 'cta', filters={'model':'m3'})
    
    
    
        
    
    with open('usam3.csv','a', encoding='utf-8') as writein:
        
        for result in a.get_results(sort_by='price_asc'):
            values = result.values()
            values_list = list(values)
            
            pr = values_list[6]
            
            values_list[6] = str(pr.replace(',',''))
            
            output = str(values_list[2])+','+str(values_list[6])+','+str(values_list[3])+'\n'
            
            writein.write(output)
            
            
